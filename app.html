<!DOCTYPE html>
<html>
  <head>
    <title>Rain Prediction</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script type="text/javascript">
      function onClickedpredict_rain() {
        //console.log("Estimate price button clicked");
        var windgustdir = {'NNW':0, 'NW':1, 'WNW':2, 'N':3, 'W':4, 'WSW':5, 'NNE':6, 'S':7, 'SSW':8, 'SW':9, 'SSE':10,'NE':11, 'SE':12, 'ESE':13, 'ENE':14, 'E':15}
        var winddir9am = {'NNW':0, 'N':1, 'NW':2, 'NNE':3, 'WNW':4, 'W':5, 'WSW':6, 'SW':7, 'SSW':8, 'NE':9, 'S':10,'SSE':11, 'ENE':12, 'SE':13, 'ESE':14, 'E':15}
        var winddir3pm = {'NW':0, 'NNW':1, 'N':2, 'WNW':3, 'W':4, 'NNE':5, 'WSW':6, 'SSW':7, 'S':8, 'SW':9, 'SE':10,'NE':11, 'SSE':12, 'ENE':13, 'E':14, 'ESE':15}
        var location = {'Portland':1, 'Cairns':2, 'Walpole':3, 'Dartmoor':4, 'MountGambier':5,
       'NorfolkIsland':6, 'Albany':7, 'Witchcliffe':8, 'CoffsHarbour':9, 'Sydney':10,
       'Darwin':11, 'MountGinini':12, 'NorahHead':13, 'Ballarat':14, 'GoldCoast':15,
       'SydneyAirport':16, 'Hobart':17, 'Watsonia':18, 'Newcastle':19, 'Wollongong':20,
       'Brisbane':21, 'Williamtown':22, 'Launceston':23, 'Adelaide':24, 'MelbourneAirport':25,
       'Perth':26, 'Sale':27, 'Melbourne':28, 'Canberra':29, 'Albury':30, 'Penrith':31,
       'Nuriootpa':32, 'BadgerysCreek':33, 'Tuggeranong':34, 'PerthAirport':35, 'Bendigo':36,
       'Richmond':37, 'WaggaWagga':38, 'Townsville':39, 'PearceRAAF':40, 'SalmonGums':41,
       'Moree':42, 'Cobar':43, 'Mildura':44, 'Katherine':45, 'AliceSprings':46, 'Nhil':47,
       'Woomera':48, 'Uluru':49}
        var raintoday = { 'Yes': 1, 'No': 0 };


        var LOCATION = location[document.getElementById("loc").value];
        var MINTEMP = document.getElementById("mt1");
        var MAXTEMP = document.getElementById("mt2");
        var RAINFALL = document.getElementById("rf");
        var EVAPORATION = document.getElementById("ev");
        var SUNSHINE = document.getElementById("su");
        var WINDGUSTDIR = windgustdir[document.getElementById("wgd").value];
        var WINDGUSTSPEED = document.getElementById("wgs");
        var WINDDIR9AM = winddir9am[document.getElementById("wd1").value];
        var WINDDIR3PM = winddir3pm[document.getElementById("wd2").value];
        var WINDSPEED9AM = document.getElementById("ws1");
        var WINDSPEED3PM = document.getElementById("ws2");
        var HUMIDITY9AM = document.getElementById("hm1");
        var HUMIDITY3PM = document.getElementById("hm2");
        var PRESSURE9AM = document.getElementById("ps1");
        var PRESSURE3PM = document.getElementById("ps2");
        var CLOUD9AM = document.getElementById("cl1");
        var CLOUD3PM = document.getElementById("cl2");
        var TEMP9AM = document.getElementById("tp1");
        var TEMP3PM = document.getElementById("tp2");
        var RAINTODAY = raintoday[document.getElementById("rt").value];
        var MONTH = document.getElementById("mo");
        var DAY = document.getElementById("da");
        var YEAR = document.getElementById("ye");
        var rain_predict = document.getElementById("uiRainPrediction");

        var url = "http://192.168.29.179:5000/get_predict_result";

        $.post(
          url,
          {
            LOCATION: parseFloat(LOCATION.value),
            MINTEMP: parseFloat(MINTEMP.value),
            MAXTEMP: parseFloat(MAXTEMP.value),
            RAINFALL: parseFloat(RAINFALL.value),
            EVAPORATION: parseFloat(EVAPORATION.value),
            SUNSHINE: parseFloat(SUNSHINE.value),
            WINDGUSTDIR: parseFloat(WINDGUSTDIR.value),
            WINDGUSTSPEED: parseFloat(WINDGUSTSPEED.value),
            WINDDIR9AM: parseFloat(WINDDIR9AM.value),
            WINDDIR3PM: parseFloat(WINDDIR3PM.value),
            WINDSPEED9AM: parseFloat(WINDSPEED3PM.value),
            WINDSPEED3PM: parseFloat(WINDSPEED3PM.value),
            HUMIDITY9AM: parseFloat(HUMIDITY9AM.value),
            HUMIDITY3PM: parseFloat(HUMIDITY3PM.value),
            PRESSURE9AM: parseFloat(PRESSURE9AM.value),
            PRESSURE3PM: parseFloat(PRESSURE3PM.value),
            CLOUD9AM: parseFloat(CLOUD9AM.value),
            CLOUD3PM: parseFloat(CLOUD3PM.value),
            TEMP9AM: parseFloat(TEMP9AM.value),
            TEMP3PM: parseFloat(TEMP3PM.value),
            RAINTODAY: parseFloat(RAINTODAY.value),
            MONTH: parseFloat(MONTH.value),
            DAY: parseFloat(DAY.value),
            YEAR: parseFloat(YEAR.value),
          },
          function (data, status) {
            console.log(data.prediction);
            rain_predict.innerHTML =
              "<h2>" + data.prediction.toString() + "</h2>";
            console.log(status);
          }
        );
      }
    </script>

    <link rel="stylesheet" href="app.css" />
  </head>
  <body>
    <div class="img"></div>
    <form class="form">
      <h1>Rain Prediction</h1>

      <h2>Day</h2>
      <div>
        <select class="location" name="" id="da">
          <option value="" disabled="disabled" selected="selected">
            Choose an Option
          </option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
          <option>7</option>
          <option>8</option>
          <option>9</option>
          <option>10</option>
          <option>11</option>
          <option>12</option>
          <option>13</option>
          <option>14</option>
          <option>15</option>
          <option>16</option>
          <option>17</option>
          <option>18</option>
          <option>19</option>
          <option>20</option>
          <option>21</option>
          <option>22</option>
          <option>23</option>
          <option>24</option>
          <option>25</option>
          <option>26</option>
          <option>27</option>
          <option>28</option>
          <option>29</option>
          <option>30</option>
          <option>31</option>


        </select>
      </div>          
      
      <h2>Month</h2>
      <div>
        <select class="location" name="" id="mo">
          <option value="" disabled="disabled" selected="selected">
            Choose an Option
          </option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
          <option>7</option>
          <option>8</option>
          <option>9</option>
          <option>10</option>
          <option>11</option>
          <option>12</option>

        </select>
      </div>


      <h2>Year</h2>
      <input
        class="area"
        type="text"
        id="ye"
        class="floatLabel"
        name="Year"
        value="0"
      />

      <h2>Location</h2>
      <div>
        <select class="location" name="" id="loc">
          <option value="" disabled="disabled" selected="selected">
            Choose an Option
          </option>
          <option>Portland</option>
          <option>Cairns</option>
          <option>Walpole</option>
          <option>Dartmoor</option>
          <option>MountGambier</option>
          <option>NorfolkIsland</option>
          <option>Albany</option>
          <option>Witchcliffe</option>
          <option>CoffsHarbour</option>
          <option>Sydney</option>
          <option>Darwin</option>
          <option>MountGinini</option>
          <option>NorahHead</option>
          <option>Ballarat</option>
          <option>GoldCoast</option>
          <option>SydneyAirport</option>
          <option>Hobart</option>
          <option>Watsonia</option>
          <option>Newcastle</option>
          <option>Wollongong</option>
          <option>Brisbane</option>
          <option>Williamtown</option>
          <option>Launceston</option>
          <option>Adelaide</option>
          <option>MelbourneAirport</option>
          <option>Perth</option>
          <option>Sale</option>
          <option>Melbourne</option>
          <option>Canberra</option>
          <option>Albury</option>
          <option>Penrith</option>
          <option>Nuriootpa</option>
          <option>BadgerysCreek</option>
          <option>Tuggeranong</option>
          <option>PerthAirport</option>
          <option>Bendigo</option>
          <option>Richmond</option>
          <option>WaggaWagga</option>
          <option>Townsville</option>
          <option>PearceRAAF</option>
          <option>SalmonGums</option>
          <option>Moore</option>
          <option>Cobar</option>
          <option>Mildura</option>
          <option>Katherine</option>
          <option>AliceSprings</option>
          <option>Nhil</option>
          <option>Woomera</option>
          <option>Uluru</option>
        </select>
      </div>

      <h2>Minimum Temperature</h2>
      <input
        class="area"
        type="text"
        id="mt1"
        class="floatLabel"
        name="MinimumTemperature"
        value="0"
      />

      <h2>Maximum Temperature</h2>
      <input
        class="area"
        type="text"
        id="mt2"
        class="floatLabel"
        name="MaximumTemperature"
        value="0"
      />

      <h2>Rainfall</h2>
      <input
        class="area"
        type="text"
        id="rf"
        class="floatLabel"
        name="Rainfall"
        value="0"
      />

      <h2>Evaporation</h2>
      <input
        class="area"
        type="text"
        id="ev"
        class="floatLabel"
        name="Evaporation"
        value="0"
      />

      <h2>Sunshine</h2>
      <input
        class="area"
        type="text"
        id="su"
        class="floatLabel"
        name="Sunshine"
        value="0"
      />

      <h2>Windgust Direction</h2>
      <div>
        <select class="location" name="" id="wgd">
          <option value="" disabled="disabled" selected="selected">
            Choose an Option
          </option>
          <option>NNW</option>
          <option>NW</option>
          <option>WNW</option>
          <option>N</option>
          <option>W</option>
          <option>WSW</option>
          <option>NNE</option>
          <option>S</option>
          <option>SSW</option>
          <option>SW</option>
          <option>SSE</option>
          <option>NE</option>
          <option>SE</option>
          <option>ESE</option>
          <option>ENE</option>
          <option>E</option>
        </select>
      </div>

      <h2>Windgust Speed</h2>
      <input
        class="area"
        type="text"
        id="wgs"
        class="floatLabel"
        name="WindgustSpeed"
        value="0"
      />

      <h2>Wind Direction at 9am</h2>
      <div>
        <select class="location" name="" id="wd1">
          <option value="" disabled="disabled" selected="selected">
            Choose an Option
          </option>
          <option>NNW</option>
          <option>N</option>
          <option>NW</option>
          <option>NNE</option>
          <option>WNW</option>
          <option>W</option>
          <option>WSW</option>
          <option>SW</option>
          <option>SSW</option>
          <option>NE</option>
          <option>S</option>
          <option>SSE</option>
          <option>ENE</option>
          <option>SE</option>
          <option>ESE</option>
          <option>E</option>
        </select>
      </div> 

      <h2>Wind Direction at 3pm</h2>
      <div>
        <select class="location" name="" id="wd2">
          <option value="" disabled="disabled" selected="selected">
            Choose an Option
          </option>
          <option>NW</option>
          <option>NNW</option>
          <option>N</option>
          <option>WNW</option>
          <option>W</option>
          <option>NNE</option>
          <option>WSW</option>
          <option>SSW</option>
          <option>S</option>
          <option>SW</option>
          <option>SE</option>
          <option>NE</option>
          <option>SSE</option>
          <option>ENE</option>
          <option>E</option>
          <option>ESE</option>
        </select>
      </div>

      <h2>Wind Speed at 9am</h2>
      <input
        class="area"
        type="text"
        id="ws1"
        class="floatLabel"
        name="WindSpeedat9am"
        value="0"
      />

      <h2>Wind Speed at 3pm</h2>
      <input
        class="area"
        type="text"
        id="ws2"
        class="floatLabel"
        name="WindSpeedat3pm"
        value="0"
      />

      <h2>Humidity at 9am</h2>
      <input
        class="area"
        type="text"
        id="hm1"
        class="floatLabel"
        name="Humidityat9am"
        value="0"
      />

      <h2>Humidity at 3pm</h2>
      <input
        class="area"
        type="text"
        id="hm2"
        class="floatLabel"
        name="Humidityat3pm"
        value="0"
      />

      <h2>Pressure at 9am</h2>
      <input
        class="area"
        type="text"
        id="ps1"
        class="floatLabel"
        name="Pressureat9am"
        value="0"
      />

      <h2>Pressure at 3pm</h2>
      <input
        class="area"
        type="text"
        id="ps2"
        class="floatLabel"
        name="Pressureat3pm"
        value="0"
      />

      <h2>Cloud at 9am</h2>
      <input
        class="area"
        type="text"
        id="cl1"
        class="floatLabel"
        name="Cloudat9am"
        value="0"
      />

      <h2>Cloud at 3pm</h2>
      <input
        class="area"
        type="text"
        id="cl2"
        class="floatLabel"
        name="Cloudat3pm"
        value="0"
      />

      <h2>Temperature at 9am</h2>
      <input
        class="area"
        type="text"
        id="tp1"
        class="floatLabel"
        name="Temperatureat9am"
        value="0"
      />

      <h2>Temperature at 3pm</h2>
      <input
        class="area"
        type="text"
        id="tp2"
        class="floatLabel"
        name="Temperatureat3pm"
        value="0"
      />


      <h2>Did it rain this day?</h2>
      <div>
        <select class="location" name="" id="rt">
          <option value="" disabled="disabled" selected="selected">
            Choose an Option
          </option>
          <option>Yes</option>
          <option>No</option>
        </select>
      </div>




      <button class="submit" onclick="onClickedpredict_rain()" type="button">
        Predict Rain
      </button>

      <div id="uiRainPrediction" class="result"><h2>Prediction</h2></div>
    </form>
  </body>
</html>
